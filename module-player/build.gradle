apply plugin: 'com.gfd.comswitch'
//apply plugin: 'com.android.library'
apply from:rootProject.file('libbase.gradle')

kapt {
    arguments {
        arg("AROUTER_MODULE_NAME", project.getName())
    }
}

android {
//    resourcePrefix "player_"
    defaultConfig {
        vectorDrawables.useSupportLibrary = true
    }
    packagingOptions {
        pickFirst 'lib/armeabi-v7a/libc++_shared.so'
        pickFirst 'lib/armeabi-v8a/libc++_shared.so'
        pickFirst 'lib/arm64-v8a/libc++_shared.so'
        pickFirst 'lib/x86/libc++_shared.so'
        pickFirst 'lib/x86_64/libc++_shared.so'
    }
}

this.beforeEvaluate {
    println 'Player开始执行了'
    delete buildDir
}

dependencies {
    implementation project(':common')
    implementation project(':libs:live_plot_graph')

    kapt dependence.libArouterCompiler
    kapt dependence.libRoomCompiler
    // AppCompat
    implementation "androidx.lifecycle:lifecycle-service:2.2.0"
    implementation "com.google.android.material:material:1.2.0-alpha04"
    //
    implementation 'com.squareup.retrofit2:converter-jackson:2.7.1'
    implementation 'org.ligboy.retrofit2:converter-fastjson-android:2.1.0'
//    // ExoPlayer
//    implementation 'com.google.android.exoplayer:exoplayer:2.10.4'
//    implementation 'com.google.android.exoplayer:extension-leanback:2.9.5'
    // IjkPlayer
    implementation 'tv.danmaku.ijk.media:ijkplayer-java:0.8.8'
    implementation 'tv.danmaku.ijk.media:ijkplayer-armv7a:0.8.8'
    implementation 'tv.danmaku.ijk.media:ijkplayer-x86:0.8.8'
    implementation 'tv.danmaku.ijk.media:ijkplayer-x86_64:0.8.8'
    // 弹幕
    implementation 'com.github.ctiao:DanmakuFlameMaster:0.9.25'
    implementation 'com.github.ctiao:ndkbitmap-armv7a:0.9.21'
    implementation 'com.github.ctiao:ndkbitmap-x86:0.9.21'
    // VLC
//    implementation "org.videolan.android:libvlc-all:3.3.0-eap02"
//    implementation "org.videolan.android:medialibrary-all:0.7.0-eap03"
}
